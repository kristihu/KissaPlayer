{"ast":null,"code":"var _jsxFileName = \"C:\\\\projects\\\\kissavideo\\\\kissa-sivu\\\\src\\\\Components\\\\SideWidget.js\";\nimport React, { Component } from 'react';\n\nclass SideWidget extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      blobData: []\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"asd\", this.props.video);\n\n    for (let i = 0; i < this.props.video.length; i++) {\n      console.log(this.props.video[i].Video);\n      fetch('/Media/' + this.props.video[i].Video).then(response => {\n        return response.blob();\n      }).then(blob => {\n        console.log(blob);\n        let reader = new FileReader(); //if reading completed\n        //   reader.onload = e => {\n        //       let blobData = blob; //blob data\n        //        console.log(blobData);\n        //    };\n        //  this.state.blobData.push()\n        //   this.thumbnail(blob);\n      });\n    }\n  }\n\n  thumbnail(videoFromJson) {\n    const canvas = document.getElementById('canvas');\n    const video = document.getElementById(videoFromJson);\n    canvas.getContext('2d').drawImage(video, 0, 0, video.videoWidth, video.videoHeight);\n  }\n\n  render() {\n    return this.props.Videos.map((json, i) => React.createElement(\"tr\", {\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, json.Video), React.createElement(\"canvas\", {\n      id: \"canvas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(\"video\", {\n      id: \"\".concat(json.Video),\n      width: \"80%\",\n      controls: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"source\", {\n      src: this.state.blobData[i],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), \"Your browser does not support HTML5 video.\"))));\n  }\n\n}\n\nexport default SideWidget;","map":{"version":3,"sources":["C:\\projects\\kissavideo\\kissa-sivu\\src\\Components\\SideWidget.js"],"names":["React","Component","SideWidget","state","blobData","componentDidMount","console","log","props","video","i","length","Video","fetch","then","response","blob","reader","FileReader","thumbnail","videoFromJson","canvas","document","getElementById","getContext","drawImage","videoWidth","videoHeight","render","Videos","map","json"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;AAEA,MAAMC,UAAN,SAAyBD,SAAzB,CAAmC;AAAA;AAAA;AAAA,SAE/BE,KAF+B,GAEvB;AACJC,MAAAA,QAAQ,EAAE;AADN,KAFuB;AAAA;;AAM/BC,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmB,KAAKC,KAAL,CAAWC,KAA9B;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKF,KAAL,CAAWC,KAAX,CAAiBE,MAArC,EAA6CD,CAAC,EAA9C,EAAkD;AAC9CJ,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,CAAjB,EAAoBE,KAAhC;AAEAC,MAAAA,KAAK,CAAC,YAAY,KAAKL,KAAL,CAAWC,KAAX,CAAiBC,CAAjB,EAAoBE,KAAjC,CAAL,CAA6CE,IAA7C,CAAmDC,QAAD,IAAc;AAC5D,eAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,OAFD,EAEGF,IAFH,CAESE,IAAD,IAAU;AAEdV,QAAAA,OAAO,CAACC,GAAR,CAAYS,IAAZ;AAEA,YAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb,CAJc,CAOd;AACH;AACA;AACD;AACA;AAEE;AAED;AACA,OAlBD;AAmBH;AACJ;;AAKLC,EAAAA,SAAS,CAACC,aAAD,EAAgB;AACrB,UAAMC,MAAM,GAAGC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAf;AACA,UAAMd,KAAK,GAAGa,QAAQ,CAACC,cAAT,CAAwBH,aAAxB,CAAd;AACAC,IAAAA,MAAM,CAACG,UAAP,CAAkB,IAAlB,EAAwBC,SAAxB,CAAkChB,KAAlC,EAAyC,CAAzC,EAA4C,CAA5C,EAA+CA,KAAK,CAACiB,UAArD,EAAiEjB,KAAK,CAACkB,WAAvE;AACH;;AAEDC,EAAAA,MAAM,GAAG;AACL,WAAO,KAAKpB,KAAL,CAAWqB,MAAX,CAAkBC,GAAlB,CAAsB,CAACC,IAAD,EAAOrB,CAAP,KACzB;AAAI,MAAA,GAAG,EAAEA,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIqB,IAAI,CAACnB,KAAT,CADJ,EAEI;AAAQ,MAAA,EAAE,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGI;AAAO,MAAA,EAAE,YAAKmB,IAAI,CAACnB,KAAV,CAAT;AAA4B,MAAA,KAAK,EAAC,KAAlC;AAAwC,MAAA,QAAQ,MAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,GAAG,EAAE,KAAKT,KAAL,CAAWC,QAAX,CAAoBM,CAApB,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,+CAHJ,CADJ,CADG,CAAP;AAYH;;AAvDkC;;AA0DnC,eAAeR,UAAf","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass SideWidget extends Component {\r\n\r\n    state = {\r\n        blobData: [],\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(\"asd\", this.props.video);\r\n        for (let i = 0; i < this.props.video.length; i++) {\r\n            console.log(this.props.video[i].Video);\r\n\r\n            fetch('/Media/' + this.props.video[i].Video).then((response) => {\r\n                return response.blob();\r\n            }).then((blob) => {\r\n\r\n                console.log(blob);\r\n\r\n                let reader = new FileReader();\r\n\r\n\r\n                //if reading completed\r\n             //   reader.onload = e => {\r\n             //       let blobData = blob; //blob data\r\n            //        console.log(blobData);\r\n            //    };\r\n\r\n              //  this.state.blobData.push()\r\n\r\n             //   this.thumbnail(blob);\r\n            });\r\n        }\r\n    }\r\n   \r\n\r\n    \r\n\r\nthumbnail(videoFromJson) {\r\n    const canvas = document.getElementById('canvas');\r\n    const video = document.getElementById(videoFromJson);\r\n    canvas.getContext('2d').drawImage(video, 0, 0, video.videoWidth, video.videoHeight);\r\n}\r\n\r\nrender() {\r\n    return this.props.Videos.map((json, i) => (\r\n        <tr key={i}>\r\n            <td>\r\n                <p>{json.Video}</p>\r\n                <canvas id=\"canvas\"></canvas>\r\n                <video id={`${json.Video}`} width=\"80%\" controls>\r\n                    <source src={this.state.blobData[i]} />\r\n                    Your browser does not support HTML5 video.\r\n                    </video>\r\n            </td>\r\n        </tr>\r\n    ));\r\n}\r\n}\r\n\r\nexport default SideWidget;"]},"metadata":{},"sourceType":"module"}